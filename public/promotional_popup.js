(function(){var __webpack_modules__=({"./resources/assets/builder/promotional_popup.js":
/*!*******************************************************!*\
  !*** ./resources/assets/builder/promotional_popup.js ***!
  \*******************************************************/
(function(){eval("function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PromotionalPopup = /*#__PURE__*/function () {\n  function PromotionalPopup() {\n    _classCallCheck(this, PromotionalPopup);\n  }\n\n  _createClass(PromotionalPopup, null, [{\n    key: \"init\",\n    value: function init(config, url) {\n      var _this = this;\n\n      this.placeholder = {\n        title: 'Promotional Content',\n        body: '<p><span style=\"color: rgb(0, 0, 0);\">You are now leaving the section of this website which contains </span><strong style=\"color: rgb(0, 0, 0);\">non-promotional information</strong><span style=\"color: rgb(0, 0, 0);\"> and are now accessing an area which contains </span><strong style=\"color: rgb(0, 0, 0);\">promotional information.</strong><span style=\"color: rgb(0, 0, 0);\"> </span></p><p><span style=\"color: rgb(136, 136, 136);\">PP-PFE-GBR-2696. Sept 2020</span><span style=\"color: rgb(0, 0, 0);\"> </span></p><p><span style=\"color: rgb(0, 71, 178);\">Do you want to proceed?</span></p>',\n        continue: 'Yes',\n        cancel: 'No'\n      };\n      this.lang = document.querySelector('html').lang || '';\n      this.config = config;\n      this.url = url;\n      var meta = document.querySelector('meta[name=promotional]');\n      this.promotional = meta && meta.content === 'true';\n      this.hierarchyConfig = {};\n      this.popup = {};\n\n      if (Array.isArray(this.config.popups)) {\n        this.popup = this.config.popups.find(function (popup) {\n          return popup.language === _this.lang;\n        });\n\n        if (!this.popup) {\n          this.popup = this.config.popups.find(function (popup) {\n            return popup.language === 'any';\n          });\n        }\n\n        if (!this.popup) {\n          this.popup = {};\n        }\n      }\n\n      this.values = {\n        title: this.popup.title ? this.popup.title : this.placeholder.title,\n        body: this.popup.body ? this.popup.body : this.placeholder.body,\n        continue: this.popup.continue ? this.popup.continue : this.placeholder.continue,\n        cancel: this.popup.cancel ? this.popup.cancel : this.placeholder.cancel,\n        style: this.popup.style ? this.popup.style : 'default'\n      };\n      this.helixContainer = document.querySelector('#helix-container');\n\n      if (!this.helixContainer) {\n        this.helixContainer = document.createElement('div');\n        this.helixContainer.id = 'helix-container';\n        document.body.appendChild(this.helixContainer);\n      }\n\n      if (!this.promotional) {\n        this.attach();\n        fetch(url).then(function (response) {\n          return response.json();\n        }).then(function (data) {\n          _this.hierarchyConfig = data;\n        });\n      }\n    }\n  }, {\n    key: \"attach\",\n    value: function attach() {\n      var _this2 = this;\n\n      document.body.addEventListener('click', function (ev) {\n        var target = ev.composedPath().find(function (target) {\n          return target.tagName === 'A';\n        });\n\n        if (target) {\n          var url = new URL(target.href);\n\n          if (url.pathname === '/') {\n            var targetPage = _this2.hierarchyConfig.index;\n\n            if (targetPage && targetPage.promotional === true) {\n              _this2.showModal(target.href);\n\n              ev.preventDefault();\n            }\n          } else {\n            var pathname = '';\n\n            if (url.pathname.startsWith('/')) {\n              pathname = url.pathname.substring(1);\n            } else {\n              pathname = url.pathname;\n            }\n\n            if (url.pathname.endsWith('/')) {\n              pathname = pathname.slice(0, -1);\n            }\n\n            var _targetPage = _this2.hierarchyConfig[pathname];\n\n            if (_targetPage && _targetPage.promotional === true) {\n              _this2.showModal(target.href);\n\n              ev.preventDefault();\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: \"showModal\",\n    value: function showModal(href) {\n      var _this3 = this;\n\n      if (this.values.style === 'helix') {\n        this.helixContainer.innerHTML = \"\\n                <helix-ext-link id=\\\"helix-ext-popup\\\" has-crest whitelist=\\\"/\\\" has-brand-stripe cancel-text=\\\"\".concat(this.values.cancel, \"\\\" go-to-link-text=\\\"\").concat(this.values.continue, \"\\\">\\n                    <div slot=\\\"label\\\" style=\\\"text-align: center\\\">\").concat(this.values.title, \"</div>\\n                    <div slot=\\\"message\\\" style=\\\"text-align: center\\\">\").concat(this.values.body, \"</div>\\n                </helix-ext-link>\\n            \");\n        var helix = document.querySelector('#helix-ext-popup');\n\n        if (helix.trigger && typeof helix.trigger === 'function') {\n          helix.trigger(href, '_blank');\n        }\n\n        var interval = setInterval(function () {\n          helix.shadowRoot.querySelectorAll('helix-button').forEach(function (element) {\n            clearInterval(interval);\n            element.addEventListener('click', function () {\n              _this3.helixContainer.innerHTML = '';\n            });\n          });\n        });\n        setTimeout(function () {\n          clearInterval(interval);\n        }, 10000);\n        return;\n      }\n\n      var html = \"<div class=\\\"modal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\">\\n                        <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n                            <div class=\\\"modal-content\\\">\\n                                <div class=\\\"modal-header\\\">\\n                                    <h5 class=\\\"modal-title\\\">\".concat(this.values.title, \"</h5>\\n                                    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n                                        <span aria-hidden=\\\"true\\\">&times;</span>\\n                                    </button>\\n                                </div>\\n                                <div class=\\\"modal-body\\\">\\n                                    \").concat(this.values.body, \"\\n                                </div>\\n                                <div class=\\\"modal-footer\\\">\\n                                    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\">\").concat(this.values.continue, \"</button>\\n                                    <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-dismiss=\\\"modal\\\">\").concat(this.values.cancel, \"</button>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\");\n\n      if (!this.container) {\n        this.container = document.createElement('div');\n        this.container.id = 'external-link-modal';\n        document.body.appendChild(this.container);\n      } // Set HtML and show it.\n\n\n      this.container.innerHTML = html;\n      this.container.firstChild.style.display = 'block';\n      var that = this;\n      this.container.querySelector('button.btn-primary').addEventListener('click', function (e) {\n        that.destroyModal();\n        window.open(href, '_blank');\n      });\n      this.container.querySelector('button.btn-secondary').addEventListener('click', function (e) {\n        that.destroyModal();\n      });\n      this.container.querySelector('button.close').addEventListener('click', function (e) {\n        that.destroyModal();\n      });\n    }\n  }, {\n    key: \"destroyModal\",\n    value: function destroyModal() {\n      document.body.removeChild(this.container);\n      this.container = null;\n    }\n  }]);\n\n  return PromotionalPopup;\n}();\n\nwindow.promotionalPopup = PromotionalPopup;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvYXNzZXRzL2J1aWxkZXIvcHJvbW90aW9uYWxfcG9wdXAuanM/ZTYzZCJdLCJuYW1lcyI6WyJQcm9tb3Rpb25hbFBvcHVwIiwiY29uZmlnIiwidXJsIiwicGxhY2Vob2xkZXIiLCJ0aXRsZSIsImJvZHkiLCJjb250aW51ZSIsImNhbmNlbCIsImxhbmciLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtZXRhIiwicHJvbW90aW9uYWwiLCJjb250ZW50IiwiaGllcmFyY2h5Q29uZmlnIiwicG9wdXAiLCJBcnJheSIsImlzQXJyYXkiLCJwb3B1cHMiLCJmaW5kIiwibGFuZ3VhZ2UiLCJ2YWx1ZXMiLCJzdHlsZSIsImhlbGl4Q29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImlkIiwiYXBwZW5kQ2hpbGQiLCJhdHRhY2giLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJkYXRhIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2IiwidGFyZ2V0IiwiY29tcG9zZWRQYXRoIiwidGFnTmFtZSIsIlVSTCIsImhyZWYiLCJwYXRobmFtZSIsInRhcmdldFBhZ2UiLCJpbmRleCIsInNob3dNb2RhbCIsInByZXZlbnREZWZhdWx0Iiwic3RhcnRzV2l0aCIsInN1YnN0cmluZyIsImVuZHNXaXRoIiwic2xpY2UiLCJpbm5lckhUTUwiLCJoZWxpeCIsInRyaWdnZXIiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwic2hhZG93Um9vdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWxlbWVudCIsImNsZWFySW50ZXJ2YWwiLCJzZXRUaW1lb3V0IiwiaHRtbCIsImNvbnRhaW5lciIsImZpcnN0Q2hpbGQiLCJkaXNwbGF5IiwidGhhdCIsImUiLCJkZXN0cm95TW9kYWwiLCJ3aW5kb3ciLCJvcGVuIiwicmVtb3ZlQ2hpbGQiLCJwcm9tb3Rpb25hbFBvcHVwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7SUFBTUEsZ0I7Ozs7Ozs7V0FDRixjQUFhQyxNQUFiLEVBQXFCQyxHQUFyQixFQUEwQjtBQUFBOztBQUN0QixXQUFLQyxXQUFMLEdBQW1CO0FBQ2ZDLFFBQUFBLEtBQUssRUFBRSxxQkFEUTtBQUVmQyxRQUFBQSxJQUFJLEVBQUUsMmtCQUZTO0FBR2ZDLFFBQUFBLFFBQVEsRUFBRSxLQUhLO0FBSWZDLFFBQUFBLE1BQU0sRUFBRTtBQUpPLE9BQW5CO0FBTUEsV0FBS0MsSUFBTCxHQUFZQyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsTUFBdkIsRUFBK0JGLElBQS9CLElBQXVDLEVBQW5EO0FBQ0EsV0FBS1AsTUFBTCxHQUFjQSxNQUFkO0FBQ0EsV0FBS0MsR0FBTCxHQUFXQSxHQUFYO0FBQ0EsVUFBTVMsSUFBSSxHQUFHRixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsd0JBQXZCLENBQWI7QUFDQSxXQUFLRSxXQUFMLEdBQW1CRCxJQUFJLElBQUlBLElBQUksQ0FBQ0UsT0FBTCxLQUFpQixNQUE1QztBQUNBLFdBQUtDLGVBQUwsR0FBdUIsRUFBdkI7QUFDQSxXQUFLQyxLQUFMLEdBQWEsRUFBYjs7QUFFQSxVQUFJQyxLQUFLLENBQUNDLE9BQU4sQ0FBYyxLQUFLaEIsTUFBTCxDQUFZaUIsTUFBMUIsQ0FBSixFQUF1QztBQUNuQyxhQUFLSCxLQUFMLEdBQWEsS0FBS2QsTUFBTCxDQUFZaUIsTUFBWixDQUFtQkMsSUFBbkIsQ0FBd0IsVUFBQ0osS0FBRCxFQUFXO0FBQzVDLGlCQUFPQSxLQUFLLENBQUNLLFFBQU4sS0FBbUIsS0FBSSxDQUFDWixJQUEvQjtBQUNILFNBRlksQ0FBYjs7QUFJQSxZQUFJLENBQUMsS0FBS08sS0FBVixFQUFpQjtBQUNiLGVBQUtBLEtBQUwsR0FBYSxLQUFLZCxNQUFMLENBQVlpQixNQUFaLENBQW1CQyxJQUFuQixDQUF3QixVQUFDSixLQUFELEVBQVc7QUFDNUMsbUJBQU9BLEtBQUssQ0FBQ0ssUUFBTixLQUFtQixLQUExQjtBQUNILFdBRlksQ0FBYjtBQUdIOztBQUVELFlBQUksQ0FBQyxLQUFLTCxLQUFWLEVBQWlCO0FBQ2IsZUFBS0EsS0FBTCxHQUFhLEVBQWI7QUFDSDtBQUNKOztBQUVELFdBQUtNLE1BQUwsR0FBYztBQUNWakIsUUFBQUEsS0FBSyxFQUFFLEtBQUtXLEtBQUwsQ0FBV1gsS0FBWCxHQUFtQixLQUFLVyxLQUFMLENBQVdYLEtBQTlCLEdBQXNDLEtBQUtELFdBQUwsQ0FBaUJDLEtBRHBEO0FBRVZDLFFBQUFBLElBQUksRUFBRSxLQUFLVSxLQUFMLENBQVdWLElBQVgsR0FBa0IsS0FBS1UsS0FBTCxDQUFXVixJQUE3QixHQUFvQyxLQUFLRixXQUFMLENBQWlCRSxJQUZqRDtBQUdWQyxRQUFBQSxRQUFRLEVBQUUsS0FBS1MsS0FBTCxDQUFXVCxRQUFYLEdBQXNCLEtBQUtTLEtBQUwsQ0FBV1QsUUFBakMsR0FBNEMsS0FBS0gsV0FBTCxDQUFpQkcsUUFIN0Q7QUFJVkMsUUFBQUEsTUFBTSxFQUFFLEtBQUtRLEtBQUwsQ0FBV1IsTUFBWCxHQUFvQixLQUFLUSxLQUFMLENBQVdSLE1BQS9CLEdBQXdDLEtBQUtKLFdBQUwsQ0FBaUJJLE1BSnZEO0FBS1ZlLFFBQUFBLEtBQUssRUFBRSxLQUFLUCxLQUFMLENBQVdPLEtBQVgsR0FBbUIsS0FBS1AsS0FBTCxDQUFXTyxLQUE5QixHQUFzQztBQUxuQyxPQUFkO0FBU0EsV0FBS0MsY0FBTCxHQUFzQmQsUUFBUSxDQUFDQyxhQUFULENBQXVCLGtCQUF2QixDQUF0Qjs7QUFDQSxVQUFJLENBQUMsS0FBS2EsY0FBVixFQUEwQjtBQUN0QixhQUFLQSxjQUFMLEdBQXNCZCxRQUFRLENBQUNlLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdEI7QUFDQSxhQUFLRCxjQUFMLENBQW9CRSxFQUFwQixHQUF5QixpQkFBekI7QUFDQWhCLFFBQUFBLFFBQVEsQ0FBQ0osSUFBVCxDQUFjcUIsV0FBZCxDQUEwQixLQUFLSCxjQUEvQjtBQUNIOztBQUdELFVBQUksQ0FBQyxLQUFLWCxXQUFWLEVBQXVCO0FBQ25CLGFBQUtlLE1BQUw7QUFDQUMsUUFBQUEsS0FBSyxDQUFDMUIsR0FBRCxDQUFMLENBQ0syQixJQURMLENBQ1UsVUFBQ0MsUUFBRCxFQUFjO0FBQ2hCLGlCQUFPQSxRQUFRLENBQUNDLElBQVQsRUFBUDtBQUNILFNBSEwsRUFJS0YsSUFKTCxDQUlVLFVBQUNHLElBQUQsRUFBVTtBQUNaLFVBQUEsS0FBSSxDQUFDbEIsZUFBTCxHQUF1QmtCLElBQXZCO0FBQ0gsU0FOTDtBQU9IO0FBQ0o7OztXQUVELGtCQUFpQjtBQUFBOztBQUNidkIsTUFBQUEsUUFBUSxDQUFDSixJQUFULENBQWM0QixnQkFBZCxDQUErQixPQUEvQixFQUF3QyxVQUFDQyxFQUFELEVBQVE7QUFDNUMsWUFBTUMsTUFBTSxHQUFHRCxFQUFFLENBQUNFLFlBQUgsR0FBa0JqQixJQUFsQixDQUF1QixVQUFDZ0IsTUFBRCxFQUFZO0FBQUUsaUJBQU9BLE1BQU0sQ0FBQ0UsT0FBUCxLQUFtQixHQUExQjtBQUFnQyxTQUFyRSxDQUFmOztBQUNBLFlBQUlGLE1BQUosRUFBWTtBQUNSLGNBQU1qQyxHQUFHLEdBQUcsSUFBSW9DLEdBQUosQ0FBUUgsTUFBTSxDQUFDSSxJQUFmLENBQVo7O0FBQ0EsY0FBSXJDLEdBQUcsQ0FBQ3NDLFFBQUosS0FBaUIsR0FBckIsRUFBMEI7QUFDdEIsZ0JBQU1DLFVBQVUsR0FBRyxNQUFJLENBQUMzQixlQUFMLENBQXFCNEIsS0FBeEM7O0FBQ0EsZ0JBQUlELFVBQVUsSUFBSUEsVUFBVSxDQUFDN0IsV0FBWCxLQUEyQixJQUE3QyxFQUFtRDtBQUMvQyxjQUFBLE1BQUksQ0FBQytCLFNBQUwsQ0FBZVIsTUFBTSxDQUFDSSxJQUF0Qjs7QUFDQUwsY0FBQUEsRUFBRSxDQUFDVSxjQUFIO0FBQ0g7QUFDSixXQU5ELE1BTU87QUFDSCxnQkFBSUosUUFBUSxHQUFHLEVBQWY7O0FBQ0EsZ0JBQUl0QyxHQUFHLENBQUNzQyxRQUFKLENBQWFLLFVBQWIsQ0FBd0IsR0FBeEIsQ0FBSixFQUFrQztBQUM5QkwsY0FBQUEsUUFBUSxHQUFHdEMsR0FBRyxDQUFDc0MsUUFBSixDQUFhTSxTQUFiLENBQXVCLENBQXZCLENBQVg7QUFDSCxhQUZELE1BRU87QUFDSE4sY0FBQUEsUUFBUSxHQUFHdEMsR0FBRyxDQUFDc0MsUUFBZjtBQUNIOztBQUVELGdCQUFJdEMsR0FBRyxDQUFDc0MsUUFBSixDQUFhTyxRQUFiLENBQXNCLEdBQXRCLENBQUosRUFBZ0M7QUFDNUJQLGNBQUFBLFFBQVEsR0FBR0EsUUFBUSxDQUFDUSxLQUFULENBQWUsQ0FBZixFQUFrQixDQUFDLENBQW5CLENBQVg7QUFDSDs7QUFFRCxnQkFBTVAsV0FBVSxHQUFHLE1BQUksQ0FBQzNCLGVBQUwsQ0FBcUIwQixRQUFyQixDQUFuQjs7QUFDQSxnQkFBSUMsV0FBVSxJQUFJQSxXQUFVLENBQUM3QixXQUFYLEtBQTJCLElBQTdDLEVBQW1EO0FBQy9DLGNBQUEsTUFBSSxDQUFDK0IsU0FBTCxDQUFlUixNQUFNLENBQUNJLElBQXRCOztBQUNBTCxjQUFBQSxFQUFFLENBQUNVLGNBQUg7QUFDSDtBQUNKO0FBQ0o7QUFDSixPQTdCRDtBQThCSDs7O1dBRUQsbUJBQWtCTCxJQUFsQixFQUF3QjtBQUFBOztBQUNwQixVQUFJLEtBQUtsQixNQUFMLENBQVlDLEtBQVosS0FBc0IsT0FBMUIsRUFBbUM7QUFDL0IsYUFBS0MsY0FBTCxDQUFvQjBCLFNBQXBCLCtIQUNpRyxLQUFLNUIsTUFBTCxDQUFZZCxNQUQ3RyxrQ0FDeUksS0FBS2MsTUFBTCxDQUFZZixRQURySix1RkFFdUQsS0FBS2UsTUFBTCxDQUFZakIsS0FGbkUsNEZBR3lELEtBQUtpQixNQUFMLENBQVloQixJQUhyRTtBQU9BLFlBQU02QyxLQUFLLEdBQUd6QyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsa0JBQXZCLENBQWQ7O0FBQ0EsWUFBSXdDLEtBQUssQ0FBQ0MsT0FBTixJQUFpQixPQUFPRCxLQUFLLENBQUNDLE9BQWIsS0FBeUIsVUFBOUMsRUFBMEQ7QUFDdERELFVBQUFBLEtBQUssQ0FBQ0MsT0FBTixDQUFjWixJQUFkLEVBQW9CLFFBQXBCO0FBQ0g7O0FBR0QsWUFBTWEsUUFBUSxHQUFHQyxXQUFXLENBQUMsWUFBTTtBQUMvQkgsVUFBQUEsS0FBSyxDQUFDSSxVQUFOLENBQWlCQyxnQkFBakIsQ0FBa0MsY0FBbEMsRUFBa0RDLE9BQWxELENBQTBELFVBQUNDLE9BQUQsRUFBYTtBQUNuRUMsWUFBQUEsYUFBYSxDQUFDTixRQUFELENBQWI7QUFDQUssWUFBQUEsT0FBTyxDQUFDeEIsZ0JBQVIsQ0FBeUIsT0FBekIsRUFBa0MsWUFBTTtBQUNwQyxjQUFBLE1BQUksQ0FBQ1YsY0FBTCxDQUFvQjBCLFNBQXBCLEdBQWdDLEVBQWhDO0FBQ0gsYUFGRDtBQUdILFdBTEQ7QUFNSCxTQVAyQixDQUE1QjtBQVNBVSxRQUFBQSxVQUFVLENBQUMsWUFBTTtBQUNiRCxVQUFBQSxhQUFhLENBQUNOLFFBQUQsQ0FBYjtBQUNILFNBRlMsRUFFUCxLQUZPLENBQVY7QUFJQTtBQUNIOztBQUVELFVBQUlRLElBQUksbVVBSThDLEtBQUt2QyxNQUFMLENBQVlqQixLQUoxRCx3WkFVc0IsS0FBS2lCLE1BQUwsQ0FBWWhCLElBVmxDLDJNQWFvRSxLQUFLZ0IsTUFBTCxDQUFZZixRQWJoRix1SUFjMkYsS0FBS2UsTUFBTCxDQUFZZCxNQWR2RyxzSkFBUjs7QUFvQkEsVUFBSSxDQUFDLEtBQUtzRCxTQUFWLEVBQXFCO0FBQ2pCLGFBQUtBLFNBQUwsR0FBaUJwRCxRQUFRLENBQUNlLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBakI7QUFDQSxhQUFLcUMsU0FBTCxDQUFlcEMsRUFBZixHQUFvQixxQkFBcEI7QUFDQWhCLFFBQUFBLFFBQVEsQ0FBQ0osSUFBVCxDQUFjcUIsV0FBZCxDQUEwQixLQUFLbUMsU0FBL0I7QUFDSCxPQXZEbUIsQ0F5RHBCOzs7QUFDQSxXQUFLQSxTQUFMLENBQWVaLFNBQWYsR0FBMkJXLElBQTNCO0FBQ0EsV0FBS0MsU0FBTCxDQUFlQyxVQUFmLENBQTBCeEMsS0FBMUIsQ0FBZ0N5QyxPQUFoQyxHQUEwQyxPQUExQztBQUVBLFVBQUlDLElBQUksR0FBRyxJQUFYO0FBQ0EsV0FBS0gsU0FBTCxDQUFlbkQsYUFBZixDQUE2QixvQkFBN0IsRUFBbUR1QixnQkFBbkQsQ0FBb0UsT0FBcEUsRUFBNkUsVUFBQ2dDLENBQUQsRUFBTztBQUNoRkQsUUFBQUEsSUFBSSxDQUFDRSxZQUFMO0FBQ0FDLFFBQUFBLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZN0IsSUFBWixFQUFrQixRQUFsQjtBQUNILE9BSEQ7QUFLQSxXQUFLc0IsU0FBTCxDQUFlbkQsYUFBZixDQUE2QixzQkFBN0IsRUFBcUR1QixnQkFBckQsQ0FBc0UsT0FBdEUsRUFBK0UsVUFBQ2dDLENBQUQsRUFBTztBQUNsRkQsUUFBQUEsSUFBSSxDQUFDRSxZQUFMO0FBQ0gsT0FGRDtBQUlBLFdBQUtMLFNBQUwsQ0FBZW5ELGFBQWYsQ0FBNkIsY0FBN0IsRUFBNkN1QixnQkFBN0MsQ0FBOEQsT0FBOUQsRUFBdUUsVUFBQ2dDLENBQUQsRUFBTztBQUMxRUQsUUFBQUEsSUFBSSxDQUFDRSxZQUFMO0FBQ0gsT0FGRDtBQUdIOzs7V0FFRCx3QkFBdUI7QUFDbkJ6RCxNQUFBQSxRQUFRLENBQUNKLElBQVQsQ0FBY2dFLFdBQWQsQ0FBMEIsS0FBS1IsU0FBL0I7QUFDQSxXQUFLQSxTQUFMLEdBQWlCLElBQWpCO0FBQ0g7Ozs7OztBQUdMTSxNQUFNLENBQUNHLGdCQUFQLEdBQTBCdEUsZ0JBQTFCIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUHJvbW90aW9uYWxQb3B1cCB7XG4gICAgc3RhdGljIGluaXQgKGNvbmZpZywgdXJsKSB7XG4gICAgICAgIHRoaXMucGxhY2Vob2xkZXIgPSB7XG4gICAgICAgICAgICB0aXRsZTogJ1Byb21vdGlvbmFsIENvbnRlbnQnLFxuICAgICAgICAgICAgYm9keTogJzxwPjxzcGFuIHN0eWxlPVwiY29sb3I6IHJnYigwLCAwLCAwKTtcIj5Zb3UgYXJlIG5vdyBsZWF2aW5nIHRoZSBzZWN0aW9uIG9mIHRoaXMgd2Vic2l0ZSB3aGljaCBjb250YWlucyA8L3NwYW4+PHN0cm9uZyBzdHlsZT1cImNvbG9yOiByZ2IoMCwgMCwgMCk7XCI+bm9uLXByb21vdGlvbmFsIGluZm9ybWF0aW9uPC9zdHJvbmc+PHNwYW4gc3R5bGU9XCJjb2xvcjogcmdiKDAsIDAsIDApO1wiPiBhbmQgYXJlIG5vdyBhY2Nlc3NpbmcgYW4gYXJlYSB3aGljaCBjb250YWlucyA8L3NwYW4+PHN0cm9uZyBzdHlsZT1cImNvbG9yOiByZ2IoMCwgMCwgMCk7XCI+cHJvbW90aW9uYWwgaW5mb3JtYXRpb24uPC9zdHJvbmc+PHNwYW4gc3R5bGU9XCJjb2xvcjogcmdiKDAsIDAsIDApO1wiPiA8L3NwYW4+PC9wPjxwPjxzcGFuIHN0eWxlPVwiY29sb3I6IHJnYigxMzYsIDEzNiwgMTM2KTtcIj5QUC1QRkUtR0JSLTI2OTYuIFNlcHQgMjAyMDwvc3Bhbj48c3BhbiBzdHlsZT1cImNvbG9yOiByZ2IoMCwgMCwgMCk7XCI+IDwvc3Bhbj48L3A+PHA+PHNwYW4gc3R5bGU9XCJjb2xvcjogcmdiKDAsIDcxLCAxNzgpO1wiPkRvIHlvdSB3YW50IHRvIHByb2NlZWQ/PC9zcGFuPjwvcD4nLFxuICAgICAgICAgICAgY29udGludWU6ICdZZXMnLFxuICAgICAgICAgICAgY2FuY2VsOiAnTm8nXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubGFuZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5sYW5nIHx8ICcnO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9cHJvbW90aW9uYWxdJyk7XG4gICAgICAgIHRoaXMucHJvbW90aW9uYWwgPSBtZXRhICYmIG1ldGEuY29udGVudCA9PT0gJ3RydWUnO1xuICAgICAgICB0aGlzLmhpZXJhcmNoeUNvbmZpZyA9IHt9O1xuICAgICAgICB0aGlzLnBvcHVwID0ge307XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5jb25maWcucG9wdXBzKSkge1xuICAgICAgICAgICAgdGhpcy5wb3B1cCA9IHRoaXMuY29uZmlnLnBvcHVwcy5maW5kKChwb3B1cCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwb3B1cC5sYW5ndWFnZSA9PT0gdGhpcy5sYW5nO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5wb3B1cCkge1xuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAgPSB0aGlzLmNvbmZpZy5wb3B1cHMuZmluZCgocG9wdXApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvcHVwLmxhbmd1YWdlID09PSAnYW55JztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLnBvcHVwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1cCA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52YWx1ZXMgPSB7XG4gICAgICAgICAgICB0aXRsZTogdGhpcy5wb3B1cC50aXRsZSA/IHRoaXMucG9wdXAudGl0bGUgOiB0aGlzLnBsYWNlaG9sZGVyLnRpdGxlLFxuICAgICAgICAgICAgYm9keTogdGhpcy5wb3B1cC5ib2R5ID8gdGhpcy5wb3B1cC5ib2R5IDogdGhpcy5wbGFjZWhvbGRlci5ib2R5LFxuICAgICAgICAgICAgY29udGludWU6IHRoaXMucG9wdXAuY29udGludWUgPyB0aGlzLnBvcHVwLmNvbnRpbnVlIDogdGhpcy5wbGFjZWhvbGRlci5jb250aW51ZSxcbiAgICAgICAgICAgIGNhbmNlbDogdGhpcy5wb3B1cC5jYW5jZWwgPyB0aGlzLnBvcHVwLmNhbmNlbCA6IHRoaXMucGxhY2Vob2xkZXIuY2FuY2VsLFxuICAgICAgICAgICAgc3R5bGU6IHRoaXMucG9wdXAuc3R5bGUgPyB0aGlzLnBvcHVwLnN0eWxlIDogJ2RlZmF1bHQnXG4gICAgICAgIH07XG5cblxuICAgICAgICB0aGlzLmhlbGl4Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hlbGl4LWNvbnRhaW5lcicpO1xuICAgICAgICBpZiAoIXRoaXMuaGVsaXhDb250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaGVsaXhDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRoaXMuaGVsaXhDb250YWluZXIuaWQgPSAnaGVsaXgtY29udGFpbmVyJztcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5oZWxpeENvbnRhaW5lcik7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGlmICghdGhpcy5wcm9tb3Rpb25hbCkge1xuICAgICAgICAgICAgdGhpcy5hdHRhY2goKTtcbiAgICAgICAgICAgIGZldGNoKHVybClcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGllcmFyY2h5Q29uZmlnID0gZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBhdHRhY2ggKCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldi5jb21wb3NlZFBhdGgoKS5maW5kKCh0YXJnZXQpID0+IHsgcmV0dXJuIHRhcmdldC50YWdOYW1lID09PSAnQSc7IH0pO1xuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodGFyZ2V0LmhyZWYpO1xuICAgICAgICAgICAgICAgIGlmICh1cmwucGF0aG5hbWUgPT09ICcvJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRQYWdlID0gdGhpcy5oaWVyYXJjaHlDb25maWcuaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRQYWdlICYmIHRhcmdldFBhZ2UucHJvbW90aW9uYWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd01vZGFsKHRhcmdldC5ocmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aG5hbWUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVybC5wYXRobmFtZS5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhuYW1lID0gdXJsLnBhdGhuYW1lLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhuYW1lID0gdXJsLnBhdGhuYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHVybC5wYXRobmFtZS5lbmRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFBhZ2UgPSB0aGlzLmhpZXJhcmNoeUNvbmZpZ1twYXRobmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRQYWdlICYmIHRhcmdldFBhZ2UucHJvbW90aW9uYWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd01vZGFsKHRhcmdldC5ocmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBzaG93TW9kYWwgKGhyZWYpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVzLnN0eWxlID09PSAnaGVsaXgnKSB7XG4gICAgICAgICAgICB0aGlzLmhlbGl4Q29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgICA8aGVsaXgtZXh0LWxpbmsgaWQ9XCJoZWxpeC1leHQtcG9wdXBcIiBoYXMtY3Jlc3Qgd2hpdGVsaXN0PVwiL1wiIGhhcy1icmFuZC1zdHJpcGUgY2FuY2VsLXRleHQ9XCIke3RoaXMudmFsdWVzLmNhbmNlbH1cIiBnby10by1saW5rLXRleHQ9XCIke3RoaXMudmFsdWVzLmNvbnRpbnVlfVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHNsb3Q9XCJsYWJlbFwiIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyXCI+JHt0aGlzLnZhbHVlcy50aXRsZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzbG90PVwibWVzc2FnZVwiIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyXCI+JHt0aGlzLnZhbHVlcy5ib2R5fTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvaGVsaXgtZXh0LWxpbms+XG4gICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICBjb25zdCBoZWxpeCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZWxpeC1leHQtcG9wdXAnKTtcbiAgICAgICAgICAgIGlmIChoZWxpeC50cmlnZ2VyICYmIHR5cGVvZiBoZWxpeC50cmlnZ2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaGVsaXgudHJpZ2dlcihocmVmLCAnX2JsYW5rJyk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaGVsaXguc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKCdoZWxpeC1idXR0b24nKS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWxpeENvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICB9LCAxMDAwMCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBodG1sID0gYDxkaXYgY2xhc3M9XCJtb2RhbFwiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwibW9kYWwtdGl0bGVcIj4ke3RoaXMudmFsdWVzLnRpdGxlfTwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLnZhbHVlcy5ib2R5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIj4ke3RoaXMudmFsdWVzLmNvbnRpbnVlfTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXNlY29uZGFyeVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+JHt0aGlzLnZhbHVlcy5jYW5jZWx9PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7XG5cbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmlkID0gJ2V4dGVybmFsLWxpbmstbW9kYWwnO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgSHRNTCBhbmQgc2hvdyBpdC5cbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZmlyc3RDaGlsZC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5idG4tcHJpbWFyeScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIHRoYXQuZGVzdHJveU1vZGFsKCk7XG4gICAgICAgICAgICB3aW5kb3cub3BlbihocmVmLCAnX2JsYW5rJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5idG4tc2Vjb25kYXJ5JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhhdC5kZXN0cm95TW9kYWwoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignYnV0dG9uLmNsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhhdC5kZXN0cm95TW9kYWwoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlc3Ryb3lNb2RhbCAoKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IG51bGw7XG4gICAgfVxufVxuXG53aW5kb3cucHJvbW90aW9uYWxQb3B1cCA9IFByb21vdGlvbmFsUG9wdXA7XG4iXSwiZmlsZSI6Ii4vcmVzb3VyY2VzL2Fzc2V0cy9idWlsZGVyL3Byb21vdGlvbmFsX3BvcHVwLmpzLmpzIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./resources/assets/builder/promotional_popup.js\n")})});var __webpack_exports__={};__webpack_modules__["./resources/assets/builder/promotional_popup.js"]()})()